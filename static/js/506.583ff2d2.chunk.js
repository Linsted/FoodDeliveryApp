"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[506],{506:function(n,r,e){e.r(r),e.d(r,{default:function(){return Q}});var t,o,i,a,u,d,c,s,l,p,x,h,m,f,g,b=e(861),Z=e(687),j=e.n(Z),y=e(477),v=e(791),S=e(413),w=e(168),k=e(37),q=k.Z.ul(t||(t=(0,w.Z)(["\n  margin-top: 20px;\n  padding: 0;\n"]))),C=k.Z.li(o||(o=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 10px;\n  background-color: #f7f7f7;\n  border-radius: 5px;\n"]))),I=k.Z.p(i||(i=(0,w.Z)(["\n  font-weight: bold;\n  margin-right: 10px;\n"]))),N=k.Z.button(a||(a=(0,w.Z)(["\n  margin-right: 10px;\n  padding: 5px 10px;\n  background-color: #4fa94d;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]))),F=k.Z.span(u||(u=(0,w.Z)(["\n  margin-right: 10px;\n"]))),A=k.Z.span(d||(d=(0,w.Z)(["\n  font-weight: bold;\n"]))),J=k.Z.div(c||(c=(0,w.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-top: 10px;\n"]))),O=k.Z.span(s||(s=(0,w.Z)(["\n  margin-right: 10px;\n  font-weight: bold;\n"]))),_=k.Z.span(l||(l=(0,w.Z)(["\n  font-weight: bold;\n  color: #4fa94d;\n"]))),E=k.Z.button(p||(p=(0,w.Z)(["\n  margin-top: 20px;\n  background-color: blue;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  float: right;\n"]))),P=e(184),T=function(n){var r=n.product,e=r.product,t=e.id,o=e.name,i=e.price,a=(0,v.useContext)(y.I).setCart;return(0,P.jsxs)(C,{children:[(0,P.jsx)(I,{children:o}),(0,P.jsx)(N,{type:"button",onClick:function(){return function(n){a((function(r){var e=r.map((function(r){return r.quantity<1?r:r.productId===n?(0,S.Z)((0,S.Z)({},r),{},{quantity:r.quantity-1}):r}));return localStorage.setItem("cart",JSON.stringify(e)),e}))}(t)},children:"-"}),(0,P.jsx)(F,{children:r.quantity}),(0,P.jsx)(N,{type:"button",onClick:function(){return function(n){a((function(r){var e=r.map((function(r){return r.productId===n?(0,S.Z)((0,S.Z)({},r),{},{quantity:r.quantity+1}):r}));return localStorage.setItem("cart",JSON.stringify(e)),e}))}(t)},children:"+"}),(0,P.jsx)(A,{children:(i*r.quantity).toFixed(2)})]})},z=k.Z.form(x||(x=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  max-width: 400px;\n  margin: 0 auto;\n"]))),D=k.Z.label(h||(h=(0,w.Z)(["\n  font-weight: bold;\n"]))),L=k.Z.input(m||(m=(0,w.Z)(["\n  padding: 5px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n"]))),B=k.Z.button(f||(f=(0,w.Z)(["\n  padding: 10px;\n  background-color: ",";\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: ",";\n"])),(function(n){return n.disabled?"#ccc":"#4fa94d"}),(function(n){return n.disabled?"not-allowed":"pointer"})),G=(k.Z.div(g||(g=(0,w.Z)(["\n  color: red;\n"]))),function(n){var r=n.handleSubmit,e=(0,v.useContext)(y.I).activeShop;return(0,P.jsxs)(z,{onSubmit:r,children:[(0,P.jsx)(D,{htmlFor:"name",children:"Name:"}),(0,P.jsx)(L,{type:"text",id:"name",name:"name",pattern:"[a-zA-Z\\s\\p{L}]*",required:!0}),(0,P.jsx)(D,{htmlFor:"email",children:"Email:"}),(0,P.jsx)(L,{type:"email",id:"email",name:"email",required:!0}),(0,P.jsx)(D,{htmlFor:"address",children:"Address:"}),(0,P.jsx)(L,{type:"text",id:"address",name:"address",required:!0}),(0,P.jsx)(D,{htmlFor:"phoneNumber",children:"Phone:"}),(0,P.jsx)(L,{type:"tel",id:"phoneNumber",name:"phoneNumber",required:!0}),(0,P.jsx)(B,{disabled:""===e,type:"submit",children:"Submit"})]})}),H=e(97),K=e(218),M=function(){var n=(0,v.useContext)(y.I),r=n.cart,e=n.setCart,t=n.setActiveShop,o=function(){var n=(0,b.Z)(j().mark((function n(o){var i,a,u,d;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.preventDefault(),i=o.target.email.value,a=o.target.phoneNumber.value,u=o.target.address.value,d={shop:r[0].shopId,products:r,email:i,phoneNumber:a,address:u},n.next=7,(0,H.fS)(d);case 7:if(n.sent){n.next=11;break}return K.Am.error("Sorry, there was an error"),n.abrupt("return");case 11:K.Am.success("Thank you for your order"),o.target.reset(),e([]),t(""),localStorage.setItem("cart",JSON.stringify([])),localStorage.clear();case 17:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(K.x7,{}),(0,P.jsx)(G,{handleSubmit:o}),(0,P.jsx)(q,{children:0!==r.length&&r.map((function(n){return(0,P.jsx)(T,{product:n},n.productId)}))}),(0,P.jsxs)(J,{children:[(0,P.jsx)(O,{children:"Total Price:"}),(0,P.jsx)(_,{children:function(){var n=0;return r.forEach((function(r){n+=r.product.price*r.quantity})),n.toFixed(2)}()})]}),r.length>0&&(0,P.jsx)(E,{onClick:function(){e([]),t(""),localStorage.setItem("cart",JSON.stringify([])),localStorage.clear()},type:"button",children:"Clear cart"})]})},Q=function(){return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(M,{})})}}}]);
//# sourceMappingURL=506.583ff2d2.chunk.js.map