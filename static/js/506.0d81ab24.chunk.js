"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[506],{506:function(n,r,t){t.r(r),t.d(r,{default:function(){return U}});var e,o,i,a,c,u,d,l,s,p,x,h,f,m,g,b,Z=t(861),y=t(687),j=t.n(y),v=t(477),S=t(791),w=t(413),k=t(168),I=t(37),q=I.Z.ul(e||(e=(0,k.Z)(["\n  margin-top: 20px;\n  padding: 0;\n"]))),C=I.Z.li(o||(o=(0,k.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 10px;\n  background-color: #f7f7f7;\n  border-radius: 5px;\n"]))),N=I.Z.p(i||(i=(0,k.Z)(["\n  font-weight: bold;\n  margin-right: 10px;\n"]))),F=I.Z.button(a||(a=(0,k.Z)(["\n  margin-right: 10px;\n  padding: 5px 10px;\n  background-color: #4fa94d;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]))),A=I.Z.span(c||(c=(0,k.Z)(["\n  margin-right: 10px;\n"]))),J=I.Z.span(u||(u=(0,k.Z)(["\n  font-weight: bold;\n"]))),O=I.Z.div(d||(d=(0,k.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-top: 10px;\n"]))),_=I.Z.span(l||(l=(0,k.Z)(["\n  margin-right: 10px;\n  font-weight: bold;\n"]))),D=I.Z.span(s||(s=(0,k.Z)(["\n  font-weight: bold;\n  color: #4fa94d;\n"]))),E=I.Z.button(p||(p=(0,k.Z)(["\n  margin-top: 20px;\n  background-color: blue;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  float: right;\n"]))),P=I.Z.button(x||(x=(0,k.Z)(["\n  margin-left: 75vw;\n  background-color: red;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n"]))),T=t(184),z=function(n){var r=n.product,t=r.product,e=t.id,o=t.name,i=t.price,a=(0,S.useContext)(v.I),c=a.setCart,u=a.cart,d=a.setActiveShop;return(0,T.jsxs)(C,{children:[(0,T.jsx)(N,{children:o}),(0,T.jsx)(F,{type:"button",onClick:function(){return function(n){c((function(r){var t=r.map((function(r){return r.quantity<1?r:r.productId===n?(0,w.Z)((0,w.Z)({},r),{},{quantity:r.quantity-1}):r}));return localStorage.setItem("cart",JSON.stringify(t)),t}))}(e)},children:"-"}),(0,T.jsx)(A,{children:r.quantity}),(0,T.jsx)(F,{type:"button",onClick:function(){return function(n){c((function(r){var t=r.map((function(r){return r.productId===n?(0,w.Z)((0,w.Z)({},r),{},{quantity:r.quantity+1}):r}));return localStorage.setItem("cart",JSON.stringify(t)),t}))}(e)},children:"+"}),(0,T.jsxs)(J,{children:[(i*r.quantity).toFixed(2),(0,T.jsx)(P,{type:"button",onClick:function(){if(u.length<2)return localStorage.clear(),c([]),void d("");c((function(n){var r=n.filter((function(n){return n.productId!==e}));return localStorage.setItem("cart",JSON.stringify(r)),r}))},children:"Delete"})]})]})},L=I.Z.form(h||(h=(0,k.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  max-width: 400px;\n  margin: 0 auto;\n"]))),B=I.Z.label(f||(f=(0,k.Z)(["\n  font-weight: bold;\n"]))),G=I.Z.input(m||(m=(0,k.Z)(["\n  padding: 5px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n"]))),H=I.Z.button(g||(g=(0,k.Z)(["\n  padding: 10px;\n  background-color: ",";\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: ",";\n"])),(function(n){return n.disabled?"#ccc":"#4fa94d"}),(function(n){return n.disabled?"not-allowed":"pointer"})),K=(I.Z.div(b||(b=(0,k.Z)(["\n  color: red;\n"]))),function(n){var r=n.handleSubmit,t=(0,S.useContext)(v.I).activeShop;return(0,T.jsxs)(L,{onSubmit:r,children:[(0,T.jsx)(B,{htmlFor:"name",children:"Name:"}),(0,T.jsx)(G,{type:"text",id:"name",name:"name",pattern:"[a-zA-Z\\s\\p{L}]*",required:!0}),(0,T.jsx)(B,{htmlFor:"email",children:"Email:"}),(0,T.jsx)(G,{type:"email",id:"email",name:"email",required:!0}),(0,T.jsx)(B,{htmlFor:"address",children:"Address:"}),(0,T.jsx)(G,{type:"text",id:"address",name:"address",required:!0}),(0,T.jsx)(B,{htmlFor:"phoneNumber",children:"Phone:"}),(0,T.jsx)(G,{type:"tel",id:"phoneNumber",name:"phoneNumber",required:!0}),(0,T.jsx)(H,{disabled:""===t,type:"submit",children:"Submit"})]})}),M=t(97),Q=t(218),R=function(){var n=(0,S.useContext)(v.I),r=n.cart,t=n.setCart,e=n.setActiveShop,o=function(){var n=(0,Z.Z)(j().mark((function n(o){var i,a,c,u;return j().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o.preventDefault(),i=o.target.email.value,a=o.target.phoneNumber.value,c=o.target.address.value,u={shop:r[0].shopId,products:r,email:i,phoneNumber:a,address:c},n.next=7,(0,M.fS)(u);case 7:if(n.sent){n.next=11;break}return Q.Am.error("Sorry, there was an error"),n.abrupt("return");case 11:Q.Am.success("Thank you for your order"),o.target.reset(),t([]),e(""),localStorage.setItem("cart",JSON.stringify([])),localStorage.clear();case 17:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Q.x7,{}),(0,T.jsx)(K,{handleSubmit:o}),(0,T.jsx)(q,{children:0!==r.length&&r.map((function(n){return(0,T.jsx)(z,{product:n},n.productId)}))}),(0,T.jsxs)(O,{children:[(0,T.jsx)(_,{children:"Total Price:"}),(0,T.jsx)(D,{children:function(){var n=0;return r.forEach((function(r){n+=r.product.price*r.quantity})),n.toFixed(2)}()})]}),r.length>0&&(0,T.jsx)(E,{onClick:function(){t([]),e(""),localStorage.setItem("cart",JSON.stringify([])),localStorage.clear()},type:"button",children:"Clear cart"})]})},U=function(){return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(R,{})})}}}]);
//# sourceMappingURL=506.0d81ab24.chunk.js.map