{"version":3,"file":"static/js/991.0b8e18bd.chunk.js","mappings":"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","sources":["components/CartList/CartItem.jsx","components/OrderForm/OrderForm.jsx","components/CartList/CartList.jsx","pages/Cart.jsx"],"sourcesContent":["import { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { MyContext } from 'components/App';\n\nexport const CartItem = ({ product }) => {\n  const { id, name, price } = product.product;\n  const { setCart } = useContext(MyContext);\n\n  const handleDecrement = id => {\n    setCart(prevCart => {\n      const updatedCart = prevCart.map(item => {\n        if (item.quantity < 1) {\n          return item;\n        }\n        if (item.productId === id) {\n          return {\n            ...item,\n            quantity: item.quantity - 1,\n          };\n        }\n        return item;\n      });\n      localStorage.setItem('cart', JSON.stringify(updatedCart));\n      return updatedCart;\n    });\n  };\n\n  const handleIncrement = id => {\n    setCart(prevCart => {\n      const updatedCart = prevCart.map(item => {\n        if (item.productId === id) {\n          return {\n            ...item,\n            quantity: item.quantity + 1,\n          };\n        }\n        return item;\n      });\n      localStorage.setItem('cart', JSON.stringify(updatedCart));\n      return updatedCart;\n    });\n  };\n\n  return (\n    <li>\n      <p>{name}</p>\n      <button onClick={() => handleDecrement(id)}>-</button>\n      <span>{product.quantity}</span>\n      <button onClick={() => handleIncrement(id)}>+</button>\n      <span>{(price * product.quantity).toFixed(2)}</span>\n    </li>\n  );\n};\n\nCartItem.propTypes = {\n  product: PropTypes.shape({\n    product: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      name: PropTypes.string.isRequired,\n      price: PropTypes.number.isRequired,\n    }).isRequired,\n    quantity: PropTypes.number.isRequired,\n  }).isRequired,\n};\n","import { MyContext } from 'components/App';\nimport { useContext } from 'react';\n\nexport const OrderForm = ({ handleSubmit }) => {\n  const { activeShop } = useContext(MyContext);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label htmlFor=\"name\">Name:</label>\n      <input\n        type=\"text\"\n        id=\"name\"\n        name=\"name\"\n        pattern=\"[a-zA-Z\\s\\p{L}]*\"\n        required\n      />\n\n      <label htmlFor=\"email\">Email:</label>\n      <input type=\"email\" id=\"email\" name=\"email\" required />\n\n      <label htmlFor=\"address\">Address:</label>\n      <input type=\"text\" id=\"address\" name=\"address\" required />\n\n      <label htmlFor=\"phoneNumber\">Phone:</label>\n      <input type=\"tel\" id=\"phoneNumber\" name=\"phoneNumber\" required />\n\n      <button disabled={activeShop === ''} type=\"submit\">\n        Submit\n      </button>\n    </form>\n  );\n};\n","import { MyContext } from 'components/App';\nimport { useContext } from 'react';\nimport { CartItem } from './CartItem';\nimport { OrderForm } from 'components/OrderForm/OrderForm';\nimport { addOrder } from 'API/api';\nimport { Toaster, toast } from 'react-hot-toast';\n\nexport const CartList = () => {\n  const { cart, setCart, setActiveShop } = useContext(MyContext);\n  const getTotalPrice = () => {\n    let totalPrice = 0;\n    cart.forEach(item => {\n      totalPrice += item.product.price * item.quantity;\n    });\n    return totalPrice.toFixed(2);\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    const email = event.target.email.value;\n    const phoneNumber = event.target.phoneNumber.value;\n    const address = event.target.address.value;\n\n    const body = {\n      shop: cart[0].shopId,\n      products: cart,\n      email,\n      phoneNumber,\n      address,\n    };\n\n    const smt = await addOrder(body);\n    if (!smt) {\n      toast.error('Sorry, there was an error');\n      return;\n    }\n    toast.success('Thank you for your order');\n    event.target.reset();\n    setCart([]);\n    setActiveShop('');\n    localStorage.setItem('cart', JSON.stringify([]));\n    localStorage.clear();\n  };\n\n  return (\n    <>\n      <Toaster />\n      <OrderForm handleSubmit={handleSubmit} />\n      <ul>\n        {cart.length !== 0 &&\n          cart.map(el => <CartItem key={el.productId} product={el} />)}\n      </ul>\n      <p>Total Price: {getTotalPrice()}</p>\n    </>\n  );\n};\n","import { CartList } from 'components/CartList/CartList';\n\nconst Cart = () => {\n  return (\n    <>\n      <CartList />\n    </>\n  );\n};\nexport default Cart;\n"],"names":["CartItem","product","id","name","price","setCart","useContext","MyContext","onClick","prevCart","updatedCart","map","item","quantity","productId","localStorage","setItem","JSON","stringify","handleDecrement","handleIncrement","toFixed","OrderForm","handleSubmit","activeShop","onSubmit","htmlFor","type","pattern","required","disabled","CartList","cart","setActiveShop","event","preventDefault","email","target","value","phoneNumber","address","body","shop","shopId","products","addOrder","toast","reset","clear","length","el","totalPrice","forEach","getTotalPrice"],"sourceRoot":""}