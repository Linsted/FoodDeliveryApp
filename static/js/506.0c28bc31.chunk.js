"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[506],{506:function(n,e,r){r.r(e),r.d(e,{default:function(){return K}});var t,i,a,o,u,d,c,s,l,p,x,m,h,f,g=r(861),b=r(687),Z=r.n(b),j=r(477),y=r(791),v=r(413),w=r(168),S=r(37),k=S.Z.ul(t||(t=(0,w.Z)(["\n  margin-top: 20px;\n  padding: 0;\n"]))),q=S.Z.li(i||(i=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 10px;\n  background-color: #f7f7f7;\n  border-radius: 5px;\n"]))),I=S.Z.p(a||(a=(0,w.Z)(["\n  font-weight: bold;\n  margin-right: 10px;\n"]))),C=S.Z.button(o||(o=(0,w.Z)(["\n  margin-right: 10px;\n  padding: 5px 10px;\n  background-color: #4fa94d;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]))),N=S.Z.span(u||(u=(0,w.Z)(["\n  margin-right: 10px;\n"]))),F=S.Z.span(d||(d=(0,w.Z)(["\n  font-weight: bold;\n"]))),A=S.Z.div(c||(c=(0,w.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-top: 10px;\n"]))),_=S.Z.span(s||(s=(0,w.Z)(["\n  margin-right: 10px;\n  font-weight: bold;\n"]))),J=S.Z.span(l||(l=(0,w.Z)(["\n  font-weight: bold;\n  color: #4fa94d;\n"]))),O=r(184),E=function(n){var e=n.product,r=e.product,t=r.id,i=r.name,a=r.price,o=(0,y.useContext)(j.I).setCart;return(0,O.jsxs)(q,{children:[(0,O.jsx)(I,{children:i}),(0,O.jsx)(C,{type:"button",onClick:function(){return function(n){o((function(e){var r=e.map((function(e){return e.quantity<1?e:e.productId===n?(0,v.Z)((0,v.Z)({},e),{},{quantity:e.quantity-1}):e}));return localStorage.setItem("cart",JSON.stringify(r)),r}))}(t)},children:"-"}),(0,O.jsx)(N,{children:e.quantity}),(0,O.jsx)(C,{type:"button",onClick:function(){return function(n){o((function(e){var r=e.map((function(e){return e.productId===n?(0,v.Z)((0,v.Z)({},e),{},{quantity:e.quantity+1}):e}));return localStorage.setItem("cart",JSON.stringify(r)),r}))}(t)},children:"+"}),(0,O.jsx)(F,{children:(a*e.quantity).toFixed(2)})]})},P=S.Z.form(p||(p=(0,w.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  max-width: 400px;\n  margin: 0 auto;\n"]))),T=S.Z.label(x||(x=(0,w.Z)(["\n  font-weight: bold;\n"]))),z=S.Z.input(m||(m=(0,w.Z)(["\n  padding: 5px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n"]))),D=S.Z.button(h||(h=(0,w.Z)(["\n  padding: 10px;\n  background-color: ",";\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: ",";\n"])),(function(n){return n.disabled?"#ccc":"#4fa94d"}),(function(n){return n.disabled?"not-allowed":"pointer"})),L=(S.Z.div(f||(f=(0,w.Z)(["\n  color: red;\n"]))),function(n){var e=n.handleSubmit,r=(0,y.useContext)(j.I).activeShop;return(0,O.jsxs)(P,{onSubmit:e,children:[(0,O.jsx)(T,{htmlFor:"name",children:"Name:"}),(0,O.jsx)(z,{type:"text",id:"name",name:"name",pattern:"[a-zA-Z\\s\\p{L}]*",required:!0}),(0,O.jsx)(T,{htmlFor:"email",children:"Email:"}),(0,O.jsx)(z,{type:"email",id:"email",name:"email",required:!0}),(0,O.jsx)(T,{htmlFor:"address",children:"Address:"}),(0,O.jsx)(z,{type:"text",id:"address",name:"address",required:!0}),(0,O.jsx)(T,{htmlFor:"phoneNumber",children:"Phone:"}),(0,O.jsx)(z,{type:"tel",id:"phoneNumber",name:"phoneNumber",required:!0}),(0,O.jsx)(D,{disabled:""===r,type:"submit",children:"Submit"})]})}),B=r(97),G=r(218),H=function(){var n=(0,y.useContext)(j.I),e=n.cart,r=n.setCart,t=n.setActiveShop,i=function(){var n=(0,g.Z)(Z().mark((function n(i){var a,o,u,d;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.preventDefault(),a=i.target.email.value,o=i.target.phoneNumber.value,u=i.target.address.value,d={shop:e[0].shopId,products:e,email:a,phoneNumber:o,address:u},n.next=7,(0,B.fS)(d);case 7:if(n.sent){n.next=11;break}return G.Am.error("Sorry, there was an error"),n.abrupt("return");case 11:G.Am.success("Thank you for your order"),i.target.reset(),r([]),t(""),localStorage.setItem("cart",JSON.stringify([])),localStorage.clear();case 17:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(G.x7,{}),(0,O.jsx)(L,{handleSubmit:i}),(0,O.jsx)(k,{children:0!==e.length&&e.map((function(n){return(0,O.jsx)(E,{product:n},n.productId)}))}),(0,O.jsxs)(A,{children:[(0,O.jsx)(_,{children:"Total Price:"}),(0,O.jsx)(J,{children:function(){var n=0;return e.forEach((function(e){n+=e.product.price*e.quantity})),n.toFixed(2)}()})]})]})},K=function(){return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(H,{})})}}}]);
//# sourceMappingURL=506.0c28bc31.chunk.js.map