"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[991],{991:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(861),a=r(687),u=r.n(a),i=r(689),s=r(791),o=r(413),c=r(184),l=function(e){var t=e.product,r=t.product,n=r.id,a=r.name,u=r.price,l=(0,s.useContext)(i.I).setCart;return(0,c.jsxs)("li",{children:[(0,c.jsx)("p",{children:a}),(0,c.jsx)("button",{onClick:function(){return function(e){l((function(t){var r=t.map((function(t){return t.quantity<1?t:t.productId===e?(0,o.Z)((0,o.Z)({},t),{},{quantity:t.quantity-1}):t}));return localStorage.setItem("cart",JSON.stringify(r)),r}))}(n)},children:"-"}),(0,c.jsx)("span",{children:t.quantity}),(0,c.jsx)("button",{onClick:function(){return function(e){l((function(t){var r=t.map((function(t){return t.productId===e?(0,o.Z)((0,o.Z)({},t),{},{quantity:t.quantity+1}):t}));return localStorage.setItem("cart",JSON.stringify(r)),r}))}(n)},children:"+"}),(0,c.jsx)("span",{children:(u*t.quantity).toFixed(2)})]})},d=function(e){var t=e.handleSubmit,r=(0,s.useContext)(i.I).activeShop;return(0,c.jsxs)("form",{onSubmit:t,children:[(0,c.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,c.jsx)("input",{type:"text",id:"name",name:"name",pattern:"[a-zA-Z\\s\\p{L}]*",required:!0}),(0,c.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,c.jsx)("input",{type:"email",id:"email",name:"email",required:!0}),(0,c.jsx)("label",{htmlFor:"address",children:"Address:"}),(0,c.jsx)("input",{type:"text",id:"address",name:"address",required:!0}),(0,c.jsx)("label",{htmlFor:"phoneNumber",children:"Phone:"}),(0,c.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",required:!0}),(0,c.jsx)("button",{disabled:""===r,type:"submit",children:"Submit"})]})},p=r(97),m=r(402),h=function(){var e=(0,s.useContext)(i.I),t=e.cart,r=e.setCart,a=e.setActiveShop,o=function(){var e=(0,n.Z)(u().mark((function e(n){var i,s,o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i=n.target.email.value,s=n.target.phoneNumber.value,o=n.target.address.value,c={shop:t[0].shopId,products:t,email:i,phoneNumber:s,address:o},e.next=7,(0,p.fS)(c);case 7:if(e.sent){e.next=11;break}return m.Am.error("Sorry, there was an error"),e.abrupt("return");case 11:m.Am.success("Thank you for your order"),n.target.reset(),r([]),a(""),localStorage.setItem("cart",JSON.stringify([])),localStorage.clear();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m.x7,{}),(0,c.jsx)(d,{handleSubmit:o}),(0,c.jsx)("ul",{children:0!==t.length&&t.map((function(e){return(0,c.jsx)(l,{product:e},e.productId)}))}),(0,c.jsxs)("p",{children:["Total Price: ",function(){var e=0;return t.forEach((function(t){e+=t.product.price*t.quantity})),e.toFixed(2)}()]})]})},x=function(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(h,{})})}}}]);
//# sourceMappingURL=991.0b8e18bd.chunk.js.map